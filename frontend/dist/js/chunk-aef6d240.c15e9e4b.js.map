{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/cabin/Calendar.vue?ef44","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/components/cabin/Calendar.vue?dfef","webpack:///src/components/cabin/Calendar.vue","webpack:///./src/components/cabin/Calendar.vue?a59c","webpack:///./src/components/cabin/Calendar.vue?3b0b"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","METHOD_NAME","regexp","e","f","$findIndex","findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","Array","callbackfn","$map","map","fails","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","call","0","render","_vm","_h","$createElement","_c","_self","staticClass","_v","selectedCabin","bookings","_e","attrs","_l","user","key","style","userColor","_s","attributes","modelConfig","$screens","default","md","lg","model","value","callback","$$v","range","expression","start","end","on","submitSaveBooking","removeDates","staticRenderFns","data","colors","users","type","mask","timeAdjust","created","fetchCabinInfo","methods","setUsers","filter","booking","name","push","userInfo","id","updateBookings","computed","highlight","popover","label","dates","watch","saved","component"],"mappings":"gHACA,IAAIA,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QACjCC,EAAuB,EAAQ,QAInCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,QAASH,EAAqB,aAAe,CAC9EI,SAAU,SAAkBC,GAC1B,SAAUC,OAAOP,EAAuBQ,OACrCC,QAAQV,EAAWO,GAAeI,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,uBCX/E,IAAIC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAI5BE,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EACJ,OAAOP,EAASM,UAAmCP,KAA1BQ,EAAWD,EAAGH,MAA0BI,EAA0B,UAAfN,EAAQK,M,uBCVtF,IAAIC,EAAW,EAAQ,QAEvBH,EAAOC,QAAU,SAAUC,GACzB,GAAIC,EAASD,GACX,MAAME,UAAU,iDAChB,OAAOF,I,8CCLX,IAAIJ,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAE5BE,EAAOC,QAAU,SAAUI,GACzB,IAAIC,EAAS,IACb,IACE,MAAMD,GAAaC,GACnB,MAAOC,GACP,IAEE,OADAD,EAAOP,IAAS,EACT,MAAMM,GAAaC,GAC1B,MAAOE,KACT,OAAO,I,kCCbX,W,kCCCA,IAAI3B,EAAI,EAAQ,QACZ4B,EAAa,EAAQ,QAAgCC,UACrDC,EAAmB,EAAQ,QAE3BC,EAAa,YACbC,GAAc,EAGdD,IAAc,IAAIE,MAAM,GAAGF,IAAY,WAAcC,GAAc,KAIvEhC,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,OAAQ0B,GAAe,CACvDH,UAAW,SAAmBK,GAC5B,OAAON,EAAWlB,KAAMwB,EAAYtB,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAK9EgB,EAAiBC,I,kCCnBjB,IAAI/B,EAAI,EAAQ,QACZmC,EAAO,EAAQ,QAAgCC,IAC/CC,EAAQ,EAAQ,QAChBC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAEnDE,EAAiBD,IAAwBF,GAAM,WACjD,GAAGD,IAAIK,KAAK,CAAE5B,QAAS,EAAG6B,EAAG,IAAK,SAAUrB,GAAM,MAAMA,QAM1DrB,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASiC,IAAwBC,GAAkB,CACnFJ,IAAK,SAAaF,GAChB,OAAOC,EAAKzB,KAAMwB,EAAYtB,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,yCCjBxE,IAAI6B,EAAS,WAAa,IAAIC,EAAIlC,KAASmC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,yBAA2BN,EAAIO,cAAcC,SAASvC,OAAyK+B,EAAIS,KAArKN,EAAG,IAAI,CAACH,EAAIM,GAAG,kJAA2JH,EAAG,QAAQ,CAACE,YAAY,WAAWK,MAAM,CAAC,UAAU,WAAWV,EAAIW,GAAIX,EAAS,OAAE,SAASY,GAAM,OAAOT,EAAG,UAAU,CAACU,IAAID,EAAKE,MAAM,CAAG,mBAAoBd,EAAIe,UAAUH,IAASF,MAAM,CAAC,KAAO,KAAK,CAACV,EAAIM,GAAG,IAAIN,EAAIgB,GAAGJ,GAAM,UAAS,GAAGT,EAAG,gBAAgB,CAACE,YAAY,cAAcK,MAAM,CAAC,WAAaV,EAAIiB,WAAW,WAAW,GAAG,KAAO,EAAE,eAAejB,EAAIkB,YAAY,QAAUlB,EAAImB,SAAS,CAAEC,QAAS,EAAGC,GAAI,EAAGC,GAAI,KAAMC,MAAM,CAACC,MAAOxB,EAAS,MAAEyB,SAAS,SAAUC,GAAM1B,EAAI2B,MAAMD,GAAKE,WAAW,YAAY,IAAI,GAAGzB,EAAG,aAAa,CAACO,MAAM,CAAC,qBAAqB,sDAAsD,qBAAqB,2DAA2D,CAAEV,EAAI2B,MAAME,OAAS7B,EAAI2B,MAAMG,IAAK3B,EAAG,QAAQ,CAACO,MAAM,CAAC,GAAK,mBAAmB,OAAS,KAAK,CAACP,EAAG,QAAQ,CAACO,MAAM,CAAC,GAAK,IAAI,YAAY,MAAM,CAACP,EAAG,KAAK,CAACA,EAAG,SAAS,CAACH,EAAIM,GAAG,qBAAqBH,EAAG,IAAI,CAACA,EAAG,SAAS,CAACH,EAAIM,GAAG,OAAON,EAAIgB,GAAGhB,EAAI2B,MAAME,YAAY1B,EAAG,IAAI,CAACA,EAAG,SAAS,CAACH,EAAIM,GAAG,OAAON,EAAIgB,GAAGhB,EAAI2B,MAAMG,UAAU3B,EAAG,QAAQ,CAACA,EAAG,YAAY,CAACE,YAAY,sBAAsB0B,GAAG,CAAC,MAAQ/B,EAAIgC,oBAAoB,CAAChC,EAAIM,GAAG,kBAAkBH,EAAG,YAAY,CAACE,YAAY,sBAAsB0B,GAAG,CAAC,MAAQ/B,EAAIiC,cAAc,CAACjC,EAAIM,GAAG,aAAa,IAAI,IAAI,GAAGN,EAAIS,MAAM,IAAI,IAC3oDyB,EAAkB,G,sFC4DtB,GACEC,KADF,WAEI,MAAO,CACLC,OAAQ,CAAC,QAAS,SAAU,OAAQ,UACpCC,MAAO,GACPV,MAAO,CACLE,MAAO,GACPC,IAAK,IAEPZ,YAAa,CACXoB,KAAM,SACNC,KAAM,yBACNC,WAAY,cAIlBC,QAhBF,WAiBS3E,KAAKyC,cACd,gBAD6BzC,KAAK4E,kBAGhCC,QAAS,OAAX,OAAW,CAAX,kBACA,qDADA,IAEIC,SAFJ,WAEA,WACW9E,KAAKyC,cAAcC,UACxB1C,KAAKyC,cAAcC,SAASqC,QAAO,SAAzC,GACYC,EAAQlC,KAAKmC,OAAS,EAAlC,6BACU,EAAV,4BAIIhC,UAVJ,SAUA,GACM,OAAOjD,KAAKsE,OAAOtE,KAAKuE,MAAMpD,WAAU,SAA9C,oBAEI+C,kBAbJ,WAcMlE,KAAKyC,cAAcC,SAASwC,KAAK,CAC/BnB,MAAO/D,KAAK6D,MAAME,MAClBC,IAAKhE,KAAK6D,MAAMG,IAChBlB,KAAM9C,KAAKmF,SAASC,KAEtBpF,KAAKqF,kBAEPlB,YArBJ,WAsBMnE,KAAK6D,MAAME,MAAQ,GACnB/D,KAAK6D,MAAMG,IAAM,MAGrBsB,SAAU,OAAZ,OAAY,CAAZ,kBACA,+DADA,IAEInC,WAFJ,WAEA,WACM,OAAKnD,KAAKyC,cACHzC,KAAKyC,cAAcC,SAAShB,KAAI,SAA7C,GACQ,GAAIsD,EAAQlC,KAAKsC,GACf,MAAO,CACLG,UAAW,EAAvB,uBACYC,QAAS,CACPC,MAAOT,EAAQlC,KAAKmC,MAEtBS,MAAOV,MARmB,QAcpCW,MAAO,CACLlD,cADJ,WAEUzC,KAAKyC,eAAiBzC,KAAKyC,cAAcC,UAAU1C,KAAK8E,YAE9Dc,MAJJ,WAKU5F,KAAK4F,QACP5F,KAAK6D,MAAME,MAAQ,GACnB/D,KAAK6D,MAAMG,IAAM,OCnIwU,I,wBCQ7V6B,EAAY,eACd,EACA5D,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E","file":"js/chunk-aef6d240.c15e9e4b.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar fails = require('../internals/fails');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = HAS_SPECIES_SUPPORT && !fails(function () {\n  [].map.call({ length: -1, 0: 1 }, function (it) { throw it; });\n});\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('b-row',[_c('b-col',{staticClass:\"text-center\"},[_c('h3',[_vm._v(\"Oversikt over besøk\")]),(!_vm.selectedCabin.bookings.length)?_c('p',[_vm._v(\" Her vises oversikten over brukere som har booket tid. Legg inn en dato for når du skal på hytta neste gang. Start ved å trykke på en dato. \")]):_vm._e(),_c('b-row',{staticClass:\"m-bottom\",attrs:{\"align-h\":\"center\"}},_vm._l((_vm.users),function(user){return _c('b-badge',{key:user,style:({ 'background-color': _vm.userColor(user) }),attrs:{\"pill\":\"\"}},[_vm._v(\" \"+_vm._s(user)+\" \")])}),1),_c('v-date-picker',{staticClass:\"m-bottom-lg\",attrs:{\"attributes\":_vm.attributes,\"is-range\":\"\",\"rows\":3,\"model-config\":_vm.modelConfig,\"columns\":_vm.$screens({ default: 1, md: 2, lg: 3 })},model:{value:(_vm.range),callback:function ($$v) {_vm.range=$$v},expression:\"range\"}})],1)],1),_c('transition',{attrs:{\"enter-active-class\":\"animate__animated animate__fadeInUp animate__faster\",\"leave-active-class\":\"animate__animated animate__fadeOutDown animate__faster\"}},[(_vm.range.start && _vm.range.end)?_c('b-row',{attrs:{\"id\":\"dateRangeConfirm\",\"shadow\":\"\"}},[_c('b-col',{attrs:{\"md\":\"6\",\"offset-md\":\"3\"}},[_c('h4',[_c('strong',[_vm._v(\"Valgte datoer\")])]),_c('p',[_c('strong',[_vm._v(\"Fra \"+_vm._s(_vm.range.start))])]),_c('p',[_c('strong',[_vm._v(\"Til \"+_vm._s(_vm.range.end))])]),_c('b-row',[_c('md-button',{staticClass:\"md-success md-round\",on:{\"click\":_vm.submitSaveBooking}},[_vm._v(\"Lagre datoer\")]),_c('md-button',{staticClass:\"md-primary md-round\",on:{\"click\":_vm.removeDates}},[_vm._v(\"Avbryt\")])],1)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-container>\n    <b-row>\n      <b-col class=\"text-center\">\n        <h3>Oversikt over besøk</h3>\n        <p v-if=\"!selectedCabin.bookings.length\">\n          Her vises oversikten over brukere som har booket tid. Legg inn en dato\n          for når du skal på hytta neste gang. Start ved å trykke på en dato.\n        </p>\n        <b-row align-h=\"center\" class=\"m-bottom\">\n          <b-badge\n            :style=\"{ 'background-color': userColor(user) }\"\n            pill\n            v-for=\"user in users\"\n            :key=\"user\"\n          >\n            {{ user }}\n          </b-badge>\n        </b-row>\n\n        <v-date-picker\n          class=\"m-bottom-lg\"\n          :attributes=\"attributes\"\n          v-model=\"range\"\n          is-range\n          :rows=\"3\"\n          :model-config=\"modelConfig\"\n          :columns=\"$screens({ default: 1, md: 2, lg: 3 })\"\n        />\n      </b-col>\n    </b-row>\n    <transition\n      enter-active-class=\"animate__animated animate__fadeInUp animate__faster\"\n      leave-active-class=\"animate__animated animate__fadeOutDown animate__faster\"\n    >\n      <b-row id=\"dateRangeConfirm\" shadow v-if=\"range.start && range.end\">\n        <b-col md=\"6\" offset-md=\"3\">\n          <h4><strong>Valgte datoer</strong></h4>\n          <p>\n            <strong>Fra {{ range.start }}</strong>\n          </p>\n          <p>\n            <strong>Til {{ range.end }}</strong>\n          </p>\n          <b-row>\n            <md-button class=\"md-success md-round\" @click=\"submitSaveBooking\"\n              >Lagre datoer</md-button\n            >\n            <md-button class=\"md-primary md-round\" @click=\"removeDates\"\n              >Avbryt</md-button\n            >\n          </b-row>\n        </b-col>\n      </b-row>\n    </transition>\n  </b-container>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      colors: [\"green\", \"orange\", \"blue\", \"purple\"],\n      users: [],\n      range: {\n        start: \"\",\n        end: \"\",\n      },\n      modelConfig: {\n        type: \"string\",\n        mask: \"YYYY-MM-DDTHH:mm:ssXXX\",\n        timeAdjust: \"12:00:00\",\n      },\n    };\n  },\n  created() {\n    if (!this.selectedCabin) this.fetchCabinInfo();\n    else this.setUsers();\n  },\n  methods: {\n    ...mapActions([\"fetchCabinInfo\", \"updateBookings\"]),\n    setUsers() {\n      if (!this.selectedCabin.bookings) return;\n      this.selectedCabin.bookings.filter((booking) => {\n        if (booking.user.name && !this.users.includes(booking.user.name)) {\n          this.users.push(booking.user.name);\n        }\n      });\n    },\n    userColor(name) {\n      return this.colors[this.users.findIndex((user) => user == name)];\n    },\n    submitSaveBooking() {\n      this.selectedCabin.bookings.push({\n        start: this.range.start,\n        end: this.range.end,\n        user: this.userInfo.id,\n      });\n      this.updateBookings();\n    },\n    removeDates() {\n      this.range.start = \"\";\n      this.range.end = \"\";\n    },\n  },\n  computed: {\n    ...mapGetters([\"selectedCabin\", \"cabins\", \"userInfo\", \"saved\"]),\n    attributes() {\n      if (!this.selectedCabin) return null;\n      return this.selectedCabin.bookings.map((booking) => {\n        if (booking.user.id) {\n          return {\n            highlight: this.userColor(booking.user.name),\n            popover: {\n              label: booking.user.name,\n            },\n            dates: booking,\n          };\n        }\n      });\n    },\n  },\n  watch: {\n    selectedCabin() {\n      if (this.selectedCabin && this.selectedCabin.bookings) this.setUsers();\n    },\n    saved() {\n      if (this.saved) {\n        this.range.start = \"\";\n        this.range.end = \"\";\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.user-dot {\n  background-color: red;\n  height: 20px;\n  width: 20px;\n}\n#dateRangeConfirm {\n  height: auto;\n  padding: 20px;\n  width: 100vw;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background-color: #fff;\n  z-index: 99999;\n  margin: auto;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Calendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Calendar.vue?vue&type=template&id=80880f26&\"\nimport script from \"./Calendar.vue?vue&type=script&lang=js&\"\nexport * from \"./Calendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Calendar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}